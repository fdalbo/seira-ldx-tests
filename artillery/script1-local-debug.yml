#https://www.artillery.io/docs/reference/test-script

# Launch only one script
# - initTest reset the sessions [src/tools/ToolsBaseApi.js - resetTestEnvironment]
# - script1 run the script [src/scripts/Script1.js] insde chromium via playwright
config:
  target: http://localhost:2020/
  # debug -> one worker
  # Load the Playwright engine:
  engines:
    playwright: {}
  # Path to JavaScript file that defines Playwright test functions
  processor: "./tests-artillery.js"
before:
  flow:
     - function: 'initTest'
scenarios:
  - engine: playwright
    testFunction: "script1"